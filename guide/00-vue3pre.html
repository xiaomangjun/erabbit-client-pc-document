<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue3å‰ç½® | å°å…”é²œå„¿</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/erabbit-client-pc-document/hero.png">
    <meta name="description" content="å°å…”é²œå„¿PCå‰å°-å¼€å‘æ–‡æ¡£">
    
    <link rel="preload" href="/erabbit-client-pc-document/assets/css/0.styles.fcf294a2.css" as="style"><link rel="preload" href="/erabbit-client-pc-document/assets/js/app.89bf0df2.js" as="script"><link rel="preload" href="/erabbit-client-pc-document/assets/js/2.9c06a25d.js" as="script"><link rel="preload" href="/erabbit-client-pc-document/assets/js/9.a79a3e96.js" as="script"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/10.23f3a92a.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/11.cf97a071.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/12.f9a4116d.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/13.f58063eb.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/14.d227b963.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/15.88e2a02b.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/16.45accc32.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/17.0cb643a4.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/18.fa9f9a42.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/19.a594d642.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/3.21cc2c59.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/4.896e02af.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/5.3b03a454.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/6.9b8cde68.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/7.121c8ae9.js"><link rel="prefetch" href="/erabbit-client-pc-document/assets/js/8.cfcf90da.js">
    <link rel="stylesheet" href="/erabbit-client-pc-document/assets/css/0.styles.fcf294a2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/erabbit-client-pc-document/" class="home-link router-link-active"><img src="/erabbit-client-pc-document/hero.png" alt="å°å…”é²œå„¿" class="logo"> <span class="site-name can-hide">å°å…”é²œå„¿</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/erabbit-client-pc-document/guide/00-vue3pre.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  vue3å‰ç½®
</a></div><div class="nav-item"><a href="/erabbit-client-pc-document/guide/01-intro.html" class="nav-link">
  é¡¹ç›®ä»‹ç»
</a></div><div class="nav-item"><a href="/erabbit-client-pc-document/guide/02-started.html" class="nav-link">
  é¡¹ç›®èµ·æ­¥
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åŠŸèƒ½æ¨¡å—" class="dropdown-title"><span class="title">åŠŸèƒ½æ¨¡å—</span> <span class="arrow down"></span></button> <button type="button" aria-label="åŠŸèƒ½æ¨¡å—" class="mobile-dropdown-title"><span class="title">åŠŸèƒ½æ¨¡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/03-home.html" class="nav-link">
  é¦–é¡µæ¨¡å—
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/04-category.html" class="nav-link">
  åˆ†ç±»æ¨¡å—
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/05-detail.html" class="nav-link">
  å•†å“è¯¦æƒ…
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/06-login.html" class="nav-link">
  ç™»å½•æ¨¡å—
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/07-cart.html" class="nav-link">
  è´­ç‰©è½¦
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/08-pay.html" class="nav-link">
  ç»“ç®—&amp;æ”¯ä»˜
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/09-member.html" class="nav-link">
  ä¸ªäººä¸­å¿ƒ
</a></li></ul></div></div><div class="nav-item"><a href="/erabbit-client-pc-document/guide/10-end.html" class="nav-link">
  é¡¹ç›®æ€»ç»“
</a></div> <a href="https://gitee.com/xmangojun/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Gitee
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/erabbit-client-pc-document/guide/00-vue3pre.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  vue3å‰ç½®
</a></div><div class="nav-item"><a href="/erabbit-client-pc-document/guide/01-intro.html" class="nav-link">
  é¡¹ç›®ä»‹ç»
</a></div><div class="nav-item"><a href="/erabbit-client-pc-document/guide/02-started.html" class="nav-link">
  é¡¹ç›®èµ·æ­¥
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åŠŸèƒ½æ¨¡å—" class="dropdown-title"><span class="title">åŠŸèƒ½æ¨¡å—</span> <span class="arrow down"></span></button> <button type="button" aria-label="åŠŸèƒ½æ¨¡å—" class="mobile-dropdown-title"><span class="title">åŠŸèƒ½æ¨¡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/03-home.html" class="nav-link">
  é¦–é¡µæ¨¡å—
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/04-category.html" class="nav-link">
  åˆ†ç±»æ¨¡å—
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/05-detail.html" class="nav-link">
  å•†å“è¯¦æƒ…
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/06-login.html" class="nav-link">
  ç™»å½•æ¨¡å—
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/07-cart.html" class="nav-link">
  è´­ç‰©è½¦
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/08-pay.html" class="nav-link">
  ç»“ç®—&amp;æ”¯ä»˜
</a></li><li class="dropdown-item"><!----> <a href="/erabbit-client-pc-document/guide/09-member.html" class="nav-link">
  ä¸ªäººä¸­å¿ƒ
</a></li></ul></div></div><div class="nav-item"><a href="/erabbit-client-pc-document/guide/10-end.html" class="nav-link">
  é¡¹ç›®æ€»ç»“
</a></div> <a href="https://gitee.com/xmangojun/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Gitee
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue3å‰ç½®</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_01-ä¸ºä»€ä¹ˆå­¦vue3" class="sidebar-link">01-ä¸ºä»€ä¹ˆå­¦vue3</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_02-viteåŸºæœ¬ä½¿ç”¨" class="sidebar-link">02-viteåŸºæœ¬ä½¿ç”¨</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_03-åˆ›å»ºvueåº”ç”¨" class="sidebar-link">03-åˆ›å»ºvueåº”ç”¨</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_04-é€‰é¡¹apiå’Œç»„åˆapi" class="sidebar-link">04-é€‰é¡¹APIå’Œç»„åˆAPI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_05-ç»„åˆapi-setupå‡½æ•°" class="sidebar-link">05-ç»„åˆAPI-setupå‡½æ•°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_06-ç»„åˆapi-ç”Ÿå‘½å‘¨æœŸ" class="sidebar-link">06-ç»„åˆAPI-ç”Ÿå‘½å‘¨æœŸ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_07-ç»„åˆapi-reactiveå‡½æ•°" class="sidebar-link">07-ç»„åˆAPI-reactiveå‡½æ•°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_08-ç»„åˆapi-torefå‡½æ•°" class="sidebar-link">08-ç»„åˆAPI-toRefå‡½æ•°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_09-ç»„åˆapi-torefså‡½æ•°" class="sidebar-link">09-ç»„åˆAPI-toRefså‡½æ•°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_10-ç»„åˆapi-refå‡½æ•°" class="sidebar-link">10-ç»„åˆAPI-refå‡½æ•°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_11-çŸ¥è¯†è¿ç”¨æ¡ˆä¾‹" class="sidebar-link">11-çŸ¥è¯†è¿ç”¨æ¡ˆä¾‹</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_12-ç»„åˆapi-computedå‡½æ•°" class="sidebar-link">12-ç»„åˆAPI-computedå‡½æ•°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_13-ç»„åˆapi-watchå‡½æ•°" class="sidebar-link">13-ç»„åˆAPI-watchå‡½æ•°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_14-ç»„åˆapi-refå±æ€§" class="sidebar-link">14-ç»„åˆAPI-refå±æ€§</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_15-ç»„åˆapi-çˆ¶å­é€šè®¯" class="sidebar-link">15-ç»„åˆAPI-çˆ¶å­é€šè®¯</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_16-ç»„åˆapi-ä¾èµ–æ³¨å…¥" class="sidebar-link">16-ç»„åˆAPI-ä¾èµ–æ³¨å…¥</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_17-è¡¥å……-v-modelè¯­æ³•ç³–" class="sidebar-link">17-è¡¥å……-v-modelè¯­æ³•ç³–</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/erabbit-client-pc-document/guide/00-vue3pre.html#_18-è¡¥å……-mixinsè¯­æ³•" class="sidebar-link">18-è¡¥å……-mixinsè¯­æ³•</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue3å‰ç½®"><a href="#vue3å‰ç½®" class="header-anchor">#</a> vue3å‰ç½®</h1> <h2 id="_01-ä¸ºä»€ä¹ˆå­¦vue3"><a href="#_01-ä¸ºä»€ä¹ˆå­¦vue3" class="header-anchor">#</a> 01-ä¸ºä»€ä¹ˆå­¦vue3</h2> <blockquote><p>ç›®æ ‡ï¼šäº†è§£vue3ç°çŠ¶ï¼Œä»¥åŠå®ƒçš„ä¼˜ç‚¹ï¼Œå±•æœ›å®ƒçš„æœªæ¥</p></blockquote> <p>Vue3ç°çŠ¶ï¼š</p> <ul><li><a href="https://github.com/vuejs/vue-next/" target="_blank" rel="noopener noreferrer">vue-next<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 2020å¹´09æœˆ18æ—¥ï¼Œæ­£å¼å‘å¸ƒvue3.0ç‰ˆæœ¬ã€‚ä½†æ˜¯ç”±äºåˆšå‘å¸ƒå‘¨è¾¹ç”Ÿæ€ä¸æ”¯æŒï¼Œå¤§å¤šæ•°å¼€å‘è€…å¤„äºè§‚æœ›ã€‚</li> <li>ç°åœ¨ä¸»æµç»„ä»¶åº“éƒ½å·²ç»å‘å¸ƒäº†æ”¯æŒvue3.0çš„ç‰ˆæœ¬ï¼Œå…¶ä»–ç”Ÿæ€ä¹Ÿåœ¨ä¸æ–­åœ°å®Œå–„ä¸­ï¼Œè¿™æ˜¯è¶‹åŠ¿ã€‚
<ul><li><a href="https://element-plus.org/#/zh-CN" target="_blank" rel="noopener noreferrer">element-plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>   åŸºäº Vue 3.0 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“</li> <li><a href="https://vant-contrib.gitee.io/vant/v3/#/zh-CN" target="_blank" rel="noopener noreferrer">vant<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  vant3.0ç‰ˆæœ¬ï¼Œæœ‰èµå‰ç«¯å›¢é˜Ÿå¼€æºç§»åŠ¨ç«¯ç»„ä»¶åº“</li> <li><a href="https://2x.antdv.com/components/overview/" target="_blank" rel="noopener noreferrer">ant-design-vue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>   Ant Design Vue 2.0ç‰ˆæœ¬ï¼Œç¤¾åŒºæ ¹æ®èš‚èš ant design å¼€å‘</li></ul></li></ul> <p>Vue3ä¼˜ç‚¹ï¼š</p> <ul><li>æœ€ç«æ¡†æ¶ï¼Œå®ƒæ˜¯å›½å†…æœ€ç«çš„å‰ç«¯æ¡†æ¶ä¹‹ä¸€ï¼Œ<a href="https://v3.vuejs.org/" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://v3.cn.vuejs.org/" target="_blank" rel="noopener noreferrer">ä¸­æ–‡æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>æ€§èƒ½æå‡ï¼Œè¿è¡Œé€Ÿåº¦äº‹vue2.xçš„1.5å€å·¦å³</li> <li>ä½“ç§¯æ›´å°ï¼ŒæŒ‰éœ€ç¼–è¯‘ä½“ç§¯æ¯”vue2.xè¦æ›´å°</li> <li>ç±»å‹æ¨æ–­ï¼Œæ›´å¥½çš„æ”¯æŒTsï¼ˆtypescriptï¼‰è¿™ä¸ªä¹Ÿæ˜¯è¶‹åŠ¿</li> <li>é«˜çº§ç»™äºˆï¼Œæš´éœ²äº†æ›´åº•å±‚çš„APIå’Œæä¾›æ›´å…ˆè¿›çš„å†…ç½®ç»„ä»¶</li> <li><strong>â˜…ç»„åˆAPI (composition api)</strong>  ï¼Œèƒ½å¤Ÿæ›´å¥½çš„ç»„ç»‡é€»è¾‘ï¼Œå°è£…é€»è¾‘ï¼Œå¤ç”¨é€»è¾‘</li></ul> <p>Vue3å±•æœ›ï¼š</p> <ul><li>è¿™æ˜¯è¶‹åŠ¿ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¼ä¸šå°†æ¥è‚¯å®šä¼šå‡çº§åˆ°Vue3.0</li> <li>å¤§å‹é¡¹ç›®ï¼Œç”±äºå¯¹Tsçš„å‹å¥½è¶Šæ¥è¶Šå¤šå¤§å‹é¡¹ç›®å¯ä»¥ç”¨Vue3.0</li></ul> <p><strong>æ€»ç»“ï¼š</strong> ä¸ºä»€ä¹ˆè¦å­¦ vue3 ?</p> <ul><li>é€‚åº”å¸‚åœºå­¦ä¹ æµè¡Œçš„æŠ€æœ¯æé«˜æå‡è‡ªå·±ç«äº‰åŠ›ï¼Œç»™è‡ªå·±åŠ è–ªã€‚</li></ul> <h2 id="_02-viteåŸºæœ¬ä½¿ç”¨"><a href="#_02-viteåŸºæœ¬ä½¿ç”¨" class="header-anchor">#</a> 02-viteåŸºæœ¬ä½¿ç”¨</h2> <blockquote><p>ç›®æ ‡ï¼šäº†è§£viteæ˜¯ä»€ä¹ˆï¼Œä½¿ç”¨viteåˆ›å»ºvueé¡¹ç›®ï¼Œç”¨æ¥å­¦ä¹ vue3çŸ¥è¯†</p></blockquote> <p>viteæ˜¯ä»€ä¹ˆï¼š<a href="https://cn.vitejs.dev/" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>å®ƒæ˜¯ä¸€ä¸ªæ›´åŠ è½»é‡ï¼ˆçƒ­æ›´æ–°é€Ÿåº¦å¿«ï¼Œæ‰“åŒ…æ„å»ºé€Ÿåº¦å¿«ï¼‰çš„vueé¡¹ç›®è„šæ‰‹æ¶å·¥å…·ã€‚</li> <li>ç›¸å¯¹äºvue-cliå®ƒé»˜è®¤å®‰è£…çš„æ’ä»¶éå¸¸å°‘ï¼Œéšç€å¼€å‘è¿‡ç¨‹ä¾èµ–å¢å¤šï¼Œéœ€è¦è‡ªå·±é¢å¤–é…ç½®ã€‚</li> <li><strong>æ‰€ä»¥ï¼š</strong> åœ¨å•çº¯å­¦ä¹ vue3è¯­æ³•ä¼šä½¿ç”¨å®ƒï¼Œåé¢åšé¡¹ç›®çš„æ—¶å€™æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨vue-cli</li></ul> <p>viteåŸºæœ¬ä½¿ç”¨ï¼š</p> <ul><li>åˆ›å»ºé¡¹ç›® <code>npm init vite-app é¡¹ç›®åç§°</code>  æˆ–è€… <code>yarn create vite-app é¡¹ç›®åç§°</code></li> <li>å®‰è£…ä¾èµ– <code>npm i</code> æˆ–è€… <code>yarn</code></li> <li>å¯åŠ¨é¡¹ç›® <code>npm run dev</code>  æˆ–è€…  <code>yarn dev</code></li></ul> <p><strong>æ€»ç»“ï¼š</strong> viteæ˜¯ä»€ä¹ˆï¼Ÿ</p> <ul><li>viteæ˜¯æ›´åŠ è½»é‡çš„vueé¡¹ç›®è„šæ‰‹æ¶å·¥å…·ã€‚</li> <li>ä½¿ç”¨viteåˆ›å»ºé¡¹ç›®å­¦ä¹ vue3è¯­æ³•ï¼Œä½¿ç”¨vue-cliåˆ›å»ºé¡¹ç›®æ­£å¼å¼€å‘ã€‚</li></ul> <p>ä¸ºä»€ä¹ˆ  Vite æ¯” WebPack æ›´å¿«ï¼Ÿ</p> <p><img src="/erabbit-client-pc-document/assets/img/webpack_bundle.9affcc87.png" alt=""></p> <p><img src="/erabbit-client-pc-document/assets/img/vite_esm.916a6df6.png" alt=""></p> <h2 id="_03-åˆ›å»ºvueåº”ç”¨"><a href="#_03-åˆ›å»ºvueåº”ç”¨" class="header-anchor">#</a> 03-åˆ›å»ºvueåº”ç”¨</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡å¦‚ä½•åˆ›å»ºvue3åº”ç”¨å®ä¾‹</p></blockquote> <p>åŸºæœ¬æ­¥éª¤ï¼š</p> <ul><li>åœ¨ <code>main.js</code> ä¸­å¯¼å…¥ <code>createApp</code> å‡½æ•°</li> <li>å®šä¹‰<code>App.vue</code>ç»„ä»¶ï¼Œå¯¼å…¥<code>main.js</code></li> <li>ä½¿ç”¨<code>createApp</code>å‡½æ•°åŸºäº<code>App.vue</code>ç»„ä»¶åˆ›å»ºåº”ç”¨å®ä¾‹</li> <li>æŒ‚è½½è‡³<code>index.html</code>çš„<code>#app</code>å®¹å™¨</li></ul> <p>è½åœ°ä»£ç ï¼š</p> <p><code>App.vue</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    æˆ‘æ˜¯æ ¹ç»„ä»¶
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><code>main.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ›å»ºä¸€ä¸ªvueåº”ç”¨</span>
<span class="token comment">// 1. å¯¼å…¥createAppå‡½æ•°</span>
<span class="token comment">// 2. ç¼–å†™ä¸€ä¸ªæ ¹ç»„ä»¶App.vueï¼Œå¯¼å…¥è¿›æ¥</span>
<span class="token comment">// 3. åŸºäºæ ¹ç»„ä»¶åˆ›å»ºåº”ç”¨å®ä¾‹</span>
<span class="token comment">// 4. æŒ‚è½½åˆ°index.htmlçš„#appå®¹å™¨</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>æ€»ç»“ï¼š</strong>  å¦‚ä½•åˆ›å»ºvueåº”ç”¨å®ä¾‹ï¼Ÿ</p> <ul><li>é€šè¿‡createAppåˆ›å»ºåº”ç”¨å®ä¾‹ ---&gt; æ‰©å±•åŠŸèƒ½å°†æ¥éƒ½æ˜¯åœ¨ app å®ä¾‹ä¸Šè¿›è¡Œã€‚</li></ul> <h2 id="_04-é€‰é¡¹apiå’Œç»„åˆapi"><a href="#_04-é€‰é¡¹apiå’Œç»„åˆapi" class="header-anchor">#</a> 04-é€‰é¡¹APIå’Œç»„åˆAPI</h2> <blockquote><p>ç›®æ ‡ï¼šç†è§£ä»€ä¹ˆæ˜¯é€‰é¡¹APIå†™æ³•ï¼Œä»€ä¹ˆæ˜¯ç»„åˆAPIå†™æ³•ã€‚</p></blockquote> <p><img src="/erabbit-client-pc-document/assets/img/compositionAPI_VS_OptionAPI.6303ca1d.jpg" alt="composition_API_VS_Option API"></p> <p><img src="/erabbit-client-pc-document/assets/img/compositionAPI_VS_OptionAPI.27764add.gif" alt="composition_API_VS_Option API"></p> <p>ä»€ä¹ˆæ˜¯é€‰é¡¹APIå†™æ³•ï¼š<code>Options ApI</code></p> <ul><li>å’±ä»¬åœ¨vue2.xé¡¹ç›®ä¸­ä½¿ç”¨çš„å°±æ˜¯ <code>é€‰é¡¹API</code> å†™æ³•
<ul><li>ä»£ç é£æ ¼ï¼šdataé€‰é¡¹å†™æ•°æ®ï¼Œmethodsé€‰é¡¹å†™å‡½æ•°...ï¼Œä¸€ä¸ªåŠŸèƒ½é€»è¾‘çš„ä»£ç åˆ†æ•£ã€‚</li></ul></li> <li>ä¼˜ç‚¹ï¼šæ˜“äºå­¦ä¹ å’Œä½¿ç”¨ï¼Œå†™ä»£ç çš„ä½ç½®å·²ç»çº¦å®šå¥½</li> <li>ç¼ºç‚¹ï¼šä»£ç ç»„ç»‡æ€§å·®ï¼Œç›¸ä¼¼çš„é€»è¾‘ä»£ç ä¸ä¾¿äºå¤ç”¨ï¼Œé€»è¾‘å¤æ‚ä»£ç å¤šäº†ä¸å¥½é˜…è¯»ã€‚</li> <li>è¡¥å……ï¼šè™½ç„¶æä¾›mixinsç”¨æ¥å°è£…é€»è¾‘ï¼Œä½†æ˜¯å‡ºç°æ•°æ®å‡½æ•°è¦†ç›–çš„æ¦‚ç‡å¾ˆå¤§ï¼Œä¸å¥½ç»´æŠ¤ã€‚</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello Options ApI<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æ•°é‡ï¼š{{ number }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»åŠ 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">/* 
  ç›®æ ‡ï¼šå›é¡¾ Vue2 çš„é€‰é¡¹å¼ API å†™æ³•ï¼ˆVue3ä¹Ÿæ”¯æŒé€‰é¡¹å¼APIå†™æ³•ï¼Œä½†æ›´æ¨èç»„åˆå¼APIï¼‰
*/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token comment">/* Vue2 ä¸»æµå†™æ³•ï¼šé€‰é¡¹å¼API */</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">btn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä»€ä¹ˆæ˜¯ç»„åˆAPIå†™æ³•ï¼š<code>Compositon API</code></p> <ul><li>å’±ä»¬åœ¨vue3.0é¡¹ç›®ä¸­å°†ä¼šä½¿ç”¨ <code>ç»„åˆAPI</code> å†™æ³•
<ul><li>ä»£ç é£æ ¼ï¼šä¸€ä¸ªåŠŸèƒ½é€»è¾‘çš„ä»£ç ç»„ç»‡åœ¨ä¸€èµ·ï¼ˆåŒ…å«æ•°æ®ï¼Œå‡½æ•°...ï¼‰</li></ul></li> <li>ä¼˜ç‚¹ï¼šåŠŸèƒ½é€»è¾‘å¤æ‚ç¹å¤šæƒ…å†µä¸‹ï¼Œå„ä¸ªåŠŸèƒ½é€»è¾‘ä»£ç ç»„ç»‡å†ä¸€èµ·ï¼Œä¾¿äºé˜…è¯»å’Œç»´æŠ¤</li> <li>ç¼ºç‚¹ï¼šéœ€è¦æœ‰è‰¯å¥½çš„ä»£ç ç»„ç»‡èƒ½åŠ›å’Œæ‹†åˆ†é€»è¾‘èƒ½åŠ›ï¼ŒPSï¼šå¤§å®¶æ²¡é—®é¢˜ã€‚</li> <li>è¡¥å……ï¼šä¸ºäº†èƒ½è®©å¤§å®¶è¾ƒå¥½çš„è¿‡æ¸¡åˆ°vue3.0çš„ç‰ˆæœ¬æ¥ï¼Œ<code>ä¹Ÿæ”¯æŒvue2.xé€‰é¡¹APIå†™æ³•</code></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello Vue3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æ•°é‡ï¼š{{ number }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»åŠ 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">/* 
  ç›®æ ‡ï¼šåˆä½“éªŒ Vue3 ç»„åˆå¼ API å†™æ³•
*/</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Vue3 æ¨èå†™æ³•ï¼šç»„åˆå¼API */</span>
    <span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">btn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      number<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> number<span class="token punctuation">,</span> btn <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>æ€»ç»“ï¼š</strong></p> <ul><li>çŸ¥é“é€‰é¡¹APIå’Œç»„åˆAPIçš„å†™æ³•åŒºåˆ«ï¼Œå»ºè®®å¤§å®¶ä½¿ç”¨ç»„åˆAPIåœ¨vue3.0é¡¹ç›®ä¸­ã€‚</li></ul> <h2 id="_05-ç»„åˆapi-setupå‡½æ•°"><a href="#_05-ç»„åˆapi-setupå‡½æ•°" class="header-anchor">#</a> 05-ç»„åˆAPI-setupå‡½æ•°</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡setupå‡½æ•°çš„åŸºæœ¬ä½¿ç”¨</p></blockquote> <p>ä½¿ç”¨ç»†èŠ‚ï¼š</p> <ul><li><code>setup</code> æ˜¯ä¸€ä¸ªæ–°çš„ç»„ä»¶é€‰é¡¹ï¼Œä½œä¸ºç»„ä»¶ä¸­ä½¿ç”¨ç»„åˆAPIçš„èµ·ç‚¹ã€‚</li> <li>ä»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ¥çœ‹ï¼Œå®ƒçš„æ‰§è¡Œåœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºä¹‹å‰<code>vue2.xçš„beforeCreate</code>æ‰§è¡Œã€‚</li> <li>è¿™å°±æ„å‘³ç€åœ¨<code>setup</code>å‡½æ•°ä¸­ <code>this</code> è¿˜ä¸æ˜¯ç»„ä»¶å®ä¾‹ï¼Œ<code>this</code> æ­¤æ—¶æ˜¯ <code>undefined</code> ( ä¸èƒ½ç”¨ this )</li> <li>åœ¨æ¨¡ç‰ˆä¸­éœ€è¦ä½¿ç”¨çš„æ•°æ®å’Œå‡½æ•°ï¼Œéœ€è¦åœ¨ <code>setup</code> è¿”å›ã€‚</li></ul> <p>æ¼”ç¤ºä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello Vue3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ number }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">/* 
  ç›®æ ‡ï¼šä¹¦å†™ setup çš„æ³¨æ„äº‹é¡¹

  setup å°ç»“
    1. setup ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œæ¯” beforeCreate æ‰§è¡Œæ—¶æœºè¿˜æ—©ï¼Œç»„ä»¶è¿˜æ²¡åˆ›å»ºï¼Œthis çš„å€¼ä¸º undefined
    2. setup å†…éƒ¨ return è¿”å›çš„æ•°æ®å¯ä»¥åœ¨ &lt;template&gt; æ¨¡æ¿ä¸­ä½¿ç”¨

  ğŸ’¥ å¸¸è§é”™è¯¯ï¼š
    1. setup å†…éƒ¨ç”¨åˆ°äº† thisï¼ŒåŸå› è¯·çœ‹å°ç»“1
*/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token comment">// setup æ˜¯åœ¨å“ªä¸ªé˜¶æ®µè¿è¡Œçš„</span>
  <span class="token comment">// ğŸ”” setup åœ¨ç»„ä»¶ beforeCreate å‰å°±è‡ªåŠ¨è¿è¡Œäº†ï¼Œæ—©äº Vue2 æ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span> <span class="token string">'setup'</span><span class="token punctuation">)</span>
    <span class="token comment">// ğŸƒç”±äº setup åœ¨ç»„ä»¶åˆ›å»ºå‰å°±æ‰§è¡Œäº†ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®¿é—®ä¸åˆ°ç»„ä»¶å®ä¾‹</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
    <span class="token comment">//ğŸ”” setup è¿”å›çš„æ•°æ®å¯ä»¥åœ¨ &lt;template&gt; æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'ä½ å¥½'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ğŸƒé€‰é¡¹å¼API - åœ¨Vue3é¡¹ç›®ä¸­æœ€å¥½ä¸è¦ä½¿ç”¨äº†(æ”¯æŒä½†ä¸æ¨è)</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">,</span> <span class="token string">'beforeCreate'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// Vueç»„ä»¶å®ä¾‹</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>æ€»ç»“ï¼š</strong> <code>setup</code> ç»„ä»¶åˆå§‹åŒ–ä¹‹å‰æ‰§è¡Œï¼Œå®ƒè¿”å›çš„æ•°æ®å’Œå‡½æ•°å¯åœ¨æ¨¡ç‰ˆä½¿ç”¨ã€‚</p> <h2 id="_06-ç»„åˆapi-ç”Ÿå‘½å‘¨æœŸ"><a href="#_06-ç»„åˆapi-ç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> 06-ç»„åˆAPI-ç”Ÿå‘½å‘¨æœŸ</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨ç»„åˆAPIå†™æ³•çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</p></blockquote> <p>å›é¡¾vue2.xç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼š</p> <ul><li>beforeCreate</li> <li>created</li> <li>beforeMount</li> <li>mounted</li> <li>beforeUpdate</li> <li>updated</li> <li>beforeDestroy</li> <li>destroyed</li></ul> <p>è®¤è¯†vue3.0ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</p> <ul><li><code>setup</code> åˆ›å»ºå®ä¾‹å‰</li> <li><code>onBeforeMount</code>  æŒ‚è½½DOMå‰</li> <li><code>onMounted</code> æŒ‚è½½DOMå</li> <li><code>onBeforeUpdate</code> æ›´æ–°ç»„ä»¶å‰</li> <li><code>onUpdated</code> æ›´æ–°ç»„ä»¶å</li> <li><code>onBeforeUnmount</code> å¸è½½é”€æ¯å‰</li> <li><code>onUnmounted</code>  å¸è½½é”€æ¯å</li></ul> <p>æ¼”ç¤ºä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    container
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onBeforeMount<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onBeforeMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOMæ¸²æŸ“å‰'</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.container'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOMæ¸²æŸ“å1'</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.container'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOMæ¸²æŸ“å2'</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.container'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="1619283131573"></p> <p><strong>æ€»ç»“ï¼š</strong> ç»„åˆAPIçš„ç”Ÿå‘½å‘¨æœŸé’©å­æœ‰7ä¸ªï¼Œå¯ä»¥å¤šæ¬¡ä½¿ç”¨åŒä¸€ä¸ªé’©å­ï¼Œæ‰§è¡Œé¡ºåºå’Œä¹¦å†™é¡ºåºç›¸åŒã€‚</p> <h2 id="_07-ç»„åˆapi-reactiveå‡½æ•°"><a href="#_07-ç»„åˆapi-reactiveå‡½æ•°" class="header-anchor">#</a> 07-ç»„åˆAPI-reactiveå‡½æ•°</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨reactiveå‡½æ•°å®šä¹‰å“åº”å¼æ•°æ®</p></blockquote> <p>å®šä¹‰å“åº”å¼æ•°æ®ï¼š</p> <ul><li>reactiveæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥å®šä¹‰ä¸€ä¸ªå¤æ‚æ•°æ®ç±»å‹ï¼Œæˆä¸ºå“åº”å¼æ•°æ®ã€‚</li></ul> <p>æ¼”ç¤ºä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{obj.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{obj.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ™®é€šæ•°æ®</span>
    <span class="token comment">// const obj = {</span>
    <span class="token comment">//   name: 'ls',</span>
    <span class="token comment">//   age: 18</span>
    <span class="token comment">// }</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ls'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// ä¿®æ”¹åå­—</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updateName'</span><span class="token punctuation">)</span>
      obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'zs'</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> obj <span class="token punctuation">,</span>updateName<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><strong>æ€»ç»“ï¼š</strong> é€šå¸¸æ˜¯ç”¨æ¥å®šä¹‰å“åº”å¼<strong>å¯¹è±¡æ•°æ®</strong></p> <h2 id="_08-ç»„åˆapi-torefå‡½æ•°"><a href="#_08-ç»„åˆapi-torefå‡½æ•°" class="header-anchor">#</a> 08-ç»„åˆAPI-toRefå‡½æ•°</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨toRefå‡½æ•°è½¬æ¢å“åº”å¼å¯¹è±¡ä¸­<strong>æŸä¸ª</strong>å±æ€§ä¸ºå•ç‹¬å“åº”å¼æ•°æ®ï¼Œå¹¶ä¸”å€¼æ˜¯å…³è”çš„ã€‚</p></blockquote> <p>å®šä¹‰å“åº”å¼æ•°æ®ï¼š</p> <ul><li>toRefæ˜¯å‡½æ•°ï¼Œè½¬æ¢<strong>å“åº”å¼å¯¹è±¡</strong>ä¸­<strong>æŸä¸ª</strong>å±æ€§ä¸ºå•ç‹¬å“åº”å¼æ•°æ®ï¼Œå¹¶ä¸”<strong>å€¼æ˜¯å…³è”çš„</strong>ã€‚</li></ul> <p>æ¼”ç¤ºä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{name}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. å“åº”å¼æ•°æ®å¯¹è±¡</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ls'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token comment">// 2. æ¨¡æ¿ä¸­åªéœ€è¦ä½¿ç”¨nameæ•°æ®</span>
    <span class="token comment">// æ³¨æ„ï¼šä»å“åº”å¼æ•°æ®å¯¹è±¡ä¸­è§£æ„å‡ºçš„å±æ€§æ•°æ®ï¼Œä¸å†æ˜¯å“åº”å¼æ•°æ®</span>
    <span class="token comment">// let { name } = obj ä¸èƒ½ç›´æ¥è§£æ„ï¼Œå‡ºæ¥çš„æ˜¯ä¸€ä¸ªæ™®é€šæ•°æ®</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
    <span class="token comment">// console.log(name)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updateName'</span><span class="token punctuation">)</span>
      <span class="token comment">// toRefè½¬æ¢å“åº”å¼æ•°æ®åŒ…è£…æˆå¯¹è±¡ï¼Œvalueå­˜æ”¾å€¼çš„ä½ç½®</span>
      name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'zs'</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> updateName<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>ä½¿ç”¨åœºæ™¯ï¼šæœ‰ä¸€ä¸ªå“åº”å¼å¯¹è±¡æ•°æ®ï¼Œä½†æ˜¯æ¨¡ç‰ˆä¸­åªéœ€è¦ä½¿ç”¨å…¶ä¸­ä¸€é¡¹æ•°æ®ã€‚</p> <h2 id="_09-ç»„åˆapi-torefså‡½æ•°"><a href="#_09-ç»„åˆapi-torefså‡½æ•°" class="header-anchor">#</a> 09-ç»„åˆAPI-toRefså‡½æ•°</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨toRefså‡½æ•°å®šä¹‰è½¬æ¢å“åº”å¼ä¸­<strong>æ‰€æœ‰</strong>å±æ€§ä¸ºå“åº”å¼æ•°æ®ï¼Œé€šå¸¸ç”¨äºè§£æ„|å±•å¼€reactiveå®šä¹‰å¯¹è±¡ã€‚</p></blockquote> <p>å®šä¹‰å“åº”å¼æ•°æ®ï¼š</p> <ul><li>toRefsæ˜¯å‡½æ•°ï¼Œè½¬æ¢<strong>å“åº”å¼å¯¹è±¡</strong>ä¸­æ‰€æœ‰å±æ€§ä¸ºå•ç‹¬å“åº”å¼æ•°æ®ï¼Œå¯¹è±¡æˆä¸ºæ™®é€šå¯¹è±¡ï¼Œå¹¶ä¸”<strong>å€¼æ˜¯å…³è”çš„</strong></li></ul> <p>æ¼”ç¤ºä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRef<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. å“åº”å¼æ•°æ®å¯¹è±¡</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ls'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token comment">// 2. è§£æ„æˆ–è€…å±•å¼€å“åº”å¼æ•°æ®å¯¹è±¡</span>
    <span class="token comment">// const {name,age} = obj</span>
    <span class="token comment">// console.log(name,age)</span>
    <span class="token comment">// const obj2 = {...obj}</span>
    <span class="token comment">// console.log(obj2)</span>
    <span class="token comment">// ä»¥ä¸Šæ–¹å¼å¯¼è‡´æ•°æ®å°±ä¸æ˜¯å“åº”å¼æ•°æ®äº†</span>
    <span class="token keyword">const</span> obj3 <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3<span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// obj3.name.value = 'zs'</span>
      obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'zs'</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>obj3<span class="token punctuation">,</span> updateName<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>ä½¿ç”¨åœºæ™¯ï¼šå‰¥ç¦»å“åº”å¼å¯¹è±¡ï¼ˆè§£æ„|å±•å¼€ï¼‰ï¼Œæƒ³ä½¿ç”¨å“åº”å¼å¯¹è±¡ä¸­çš„å¤šä¸ªæˆ–è€…æ‰€æœ‰å±æ€§åšä¸ºå“åº”å¼æ•°æ®ã€‚</p> <h2 id="_10-ç»„åˆapi-refå‡½æ•°"><a href="#_10-ç»„åˆapi-refå‡½æ•°" class="header-anchor">#</a> 10-ç»„åˆAPI-refå‡½æ•°</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨refå‡½æ•°å®šä¹‰å“åº”å¼æ•°æ®ï¼Œä¸€èˆ¬ç”¨äºç®€å•ç±»å‹æ•°æ®</p></blockquote> <p>å®šä¹‰å“åº”å¼æ•°æ®ï¼š</p> <ul><li>refå‡½æ•°ï¼Œå¸¸ç”¨äºç®€å•æ•°æ®ç±»å‹å®šä¹‰ä¸ºå“åº”å¼æ•°æ®
<ul><li>å†ä¿®æ”¹å€¼ï¼Œè·å–å€¼çš„æ—¶å€™ï¼Œéœ€è¦.value</li> <li>åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨refç”³æ˜çš„å“åº”å¼æ•°æ®ï¼Œå¯ä»¥çœç•¥.value</li></ul></li></ul> <p>æ¼”ç¤ºä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. nameæ•°æ®</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'ls'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'zs'</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 2. ageæ•°æ®</span>
    <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

    <span class="token comment">// refå¸¸ç”¨å®šä¹‰ç®€å•æ•°æ®ç±»å‹çš„å“åº”å¼æ•°æ®</span>
    <span class="token comment">// å…¶å®ä¹Ÿå¯ä»¥å®šä¹‰å¤æ‚æ•°æ®ç±»å‹çš„å“åº”å¼æ•°æ®</span>
    <span class="token comment">// å¯¹äºæ•°æ®æœªä¹‹çš„æƒ…å†µä¸‹ ref æ˜¯æœ€é€‚ç”¨çš„</span>
    <span class="token comment">// const data = ref(null)</span>
    <span class="token comment">// setTimeout(()=&gt;{</span>
    <span class="token comment">//   data.value = res.data</span>
    <span class="token comment">// },1000)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> updateName<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p> <ul><li><strong>å½“ä½ æ˜ç¡®çŸ¥é“éœ€è¦çš„æ˜¯ä¸€ä¸ªå“åº”å¼æ•°æ®  <em>å¯¹è±¡</em>  é‚£ä¹ˆå°±ä½¿ç”¨ reactive å³å¯</strong></li> <li><strong>å…¶ä»–æƒ…å†µä½¿ç”¨ref</strong></li></ul> <h2 id="_11-çŸ¥è¯†è¿ç”¨æ¡ˆä¾‹"><a href="#_11-çŸ¥è¯†è¿ç”¨æ¡ˆä¾‹" class="header-anchor">#</a> 11-çŸ¥è¯†è¿ç”¨æ¡ˆä¾‹</h2> <blockquote><p>ç›®æ ‡ï¼šåˆ©ç”¨æ‰€å­¦çŸ¥è¯†å®Œæˆç»„åˆAPIå®ä¾‹</p></blockquote> <p>åŸºæœ¬æ­¥éª¤ï¼š</p> <ul><li>è®°å½•é¼ æ ‡åæ ‡
<ul><li>å®šä¹‰ä¸€ä¸ªå“åº”å¼æ•°æ®å¯¹è±¡ï¼ŒåŒ…å«xå’Œyå±æ€§ã€‚</li> <li>åœ¨ç»„ä»¶æ¸²æŸ“å®Œæ¯•åï¼Œç›‘å¬documentçš„é¼ æ ‡ç§»åŠ¨äº‹ä»¶</li> <li>æŒ‡å®šmoveå‡½æ•°ä¸ºäº‹ä»¶å¯¹åº”æ–¹æ³•ï¼Œåœ¨å‡½æ•°ä¸­ä¿®æ”¹åæ ‡</li> <li>åœ¨setupè¿”å›æ•°æ®ï¼Œæ¨¡ç‰ˆä¸­ä½¿ç”¨</li></ul></li> <li>ç´¯åŠ 1åŠŸèƒ½
<ul><li>å®šä¹‰ä¸€ä¸ªç®€å•æ•°æ®ç±»å‹çš„å“åº”å¼æ•°æ®</li> <li>å®šä¹‰ä¸€ä¸ªä¿®æ”¹æ•°å­—çš„æ–¹æ³•</li> <li>åœ¨setupè¿”å›æ•°æ®å’Œå‡½æ•°ï¼Œæ¨¡æ¿ä¸­ä½¿ç”¨</li></ul></li></ul> <p>è½çš„ä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>åæ ‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>x: {{x}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>y: {{y}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{count}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç´¯åŠ 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> onUnmounted<span class="token punctuation">,</span> reactive <span class="token punctuation">,</span> ref<span class="token punctuation">,</span> toRefs<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">const</span> <span class="token function-variable function">useMouse</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. è®°å½•é¼ æ ‡åæ ‡</span>
    <span class="token comment">// 1.1 ç”³æ˜ä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä»–æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«x y</span>
    <span class="token keyword">const</span> mouse <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 1.3 ä¿®æ”¹å“åº”å¼æ•°æ®</span>
    <span class="token keyword">const</span> <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mouse<span class="token punctuation">.</span>x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX
      mouse<span class="token punctuation">.</span>y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY
    <span class="token punctuation">}</span>
    <span class="token comment">// 1.2 ç­‰domæ¸²æŸ“å®Œæ¯•ã€‚å»ç›‘å¬äº‹ä»¶</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> move<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 1.4 ç»„ä»¶æ¶ˆè€—ï¼Œåˆ é™¤äº‹ä»¶</span>
    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> move<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> mouse
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> mouse <span class="token operator">=</span> <span class="token function">useMouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 2. æ•°å­—ç´¯åŠ </span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> 
    <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">.</span>value <span class="token operator">++</span>
    <span class="token punctuation">}</span>



    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token function">toRefs</span><span class="token punctuation">(</span>mouse<span class="token punctuation">)</span><span class="token punctuation">,</span> count<span class="token punctuation">,</span> add <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><strong>æ€»ç»“ï¼š</strong> ä½“ä¼šç»„åˆAPIçš„å†™æ³•ï¼Œå°è¯•ç»„ç»‡å¯è¯»æ€§é«˜çš„ä»£ç ã€‚</p> <h2 id="_12-ç»„åˆapi-computedå‡½æ•°"><a href="#_12-ç»„åˆapi-computedå‡½æ•°" class="header-anchor">#</a> 12-ç»„åˆAPI-computedå‡½æ•°</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨computedå‡½æ•°å®šä¹‰è®¡ç®—å±æ€§</p></blockquote> <p>å®šä¹‰è®¡ç®—å±æ€§ï¼š</p> <ul><li>computedå‡½æ•°ï¼Œæ˜¯ç”¨æ¥å®šä¹‰è®¡ç®—å±æ€§çš„ï¼Œè®¡ç®—å±æ€§ä¸èƒ½ä¿®æ”¹ã€‚</li></ul> <p>åŸºæœ¬ä½¿ç”¨ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ä»Šå¹´ï¼š{{ age }}å²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>åå¹´åï¼š{{ newAge }}å²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">/* 
  ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨computedå‡½æ•°å®šä¹‰è®¡ç®—å±æ€§
  åº”ç”¨åœºæ™¯ï¼šå½“ä½ éœ€è¦ä¾èµ–ç°æœ‰çš„å“åº”å¼æ•°æ®ï¼Œæ ¹æ®ä¸€å®šé€»è¾‘å¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°æ®ã€‚
*/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>
    <span class="token comment">// Vue3 ç»„åˆå¼APIå†™æ³•</span>
    <span class="token comment">// æ³¨æ„ï¼šéœ€è¦æ¥æ”¶è¿”å›å€¼</span>
    <span class="token keyword">const</span> newAge <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> age<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> age<span class="token punctuation">,</span> newAge <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Vue2 å†™æ³•</span>
  <span class="token comment">// computed: {</span>
  <span class="token comment">//   newAge2() {</span>
  <span class="token comment">//     return this.age + 10</span>
  <span class="token comment">//   },</span>
  <span class="token comment">// },</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>é«˜çº§ç”¨æ³•ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello Vue3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ä»Šå¹´ï¼š{{ age }}å²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>åå¹´åï¼š{{ newAge }}å²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- ä½¿ç”¨v-modelç»‘å®šè®¡ç®—å±æ€§ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>newAge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">/* 
  ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨computedå‡½æ•°å®šä¹‰è®¡ç®—å±æ€§
  åº”ç”¨åœºæ™¯ï¼šå½“ä½ éœ€è¦ä¾èµ–ç°æœ‰çš„å“åº”å¼æ•°æ®ï¼Œæ ¹æ®ä¸€å®šé€»è¾‘å¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°æ®ã€‚
*/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>

    <span class="token comment">// Vue3 ç»„åˆå¼APIå†™æ³•</span>
    <span class="token comment">// é«˜çº§å†™æ³•ï¼šget å’Œ set</span>
    <span class="token keyword">const</span> newAge <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// è·å–ï¼Œè·å–è®¡ç®—å±æ€§çš„å€¼</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">10</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// è®¾ç½®ï¼Œå½“ä½ ç»™è®¡ç®—å±æ€§è®¾ç½®å€¼çš„æ—¶å€™è§¦å‘</span>
      <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        age<span class="token punctuation">.</span>value <span class="token operator">=</span> val <span class="token operator">-</span> <span class="token number">10</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> age<span class="token punctuation">,</span> newAge <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>ç›®çš„ï¼šè®©è®¡ç®—å±æ€§æ”¯æŒåŒå‘æ•°æ®ç»‘å®šã€‚</p> <p>æ€»ç»“ï¼šè®¡ç®—å±æ€§ä¸¤ç§ç”¨æ³•</p> <ul><li>ç»™computedä¼ å…¥å‡½æ•°ï¼Œè¿”å›å€¼å°±æ˜¯è®¡ç®—å±æ€§çš„å€¼</li> <li>ç»™computedä¼ å…¥å¯¹è±¡ï¼Œgetè·å–è®¡ç®—å±æ€§çš„å€¼ï¼Œsetç›‘å¬è®¡ç®—å±æ€§æ”¹å˜ã€‚</li></ul> <h2 id="_13-ç»„åˆapi-watchå‡½æ•°"><a href="#_13-ç»„åˆapi-watchå‡½æ•°" class="header-anchor">#</a> 13-ç»„åˆAPI-watchå‡½æ•°</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨watchå‡½æ•°å®šä¹‰ä¾¦å¬å™¨</p></blockquote> <p>å®šä¹‰è®¡ç®—å±æ€§ï¼š</p> <ul><li>watchå‡½æ•°ï¼Œæ˜¯ç”¨æ¥å®šä¹‰ä¾¦å¬å™¨çš„</li></ul> <p>ç›‘å¬refå®šä¹‰çš„å“åº”å¼æ•°æ®</p> <p>ç›‘å¬å¤šä¸ªå“åº”å¼æ•°æ®æ•°æ®</p> <p>ç›‘å¬reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®</p> <p>ç›‘å¬reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼ŒæŸä¸€ä¸ªå±æ€§</p> <p>æ·±åº¦ç›‘å¬</p> <p>é»˜è®¤æ‰§è¡Œ</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>countçš„å€¼ï¼š{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ”¹æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{obj.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{obj.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{obj.brand.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ”¹åå­—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateBrandName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ”¹å“ç‰Œåå­—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å½“ä½ éœ€è¦ç›‘å¬æ•°æ®çš„å˜åŒ–å°±å¯ä»¥ä½¿ç”¨watch</span>
    <span class="token comment">// 1. ç›‘å¬ä¸€ä¸ªrefæ•°æ®</span>
    <span class="token comment">// 1.1 ç¬¬ä¸€ä¸ªå‚æ•°  éœ€è¦ç›‘å¬çš„ç›®æ ‡</span>
    <span class="token comment">// 1.2 ç¬¬äºŒä¸ªå‚æ•°  æ”¹å˜åè§¦å‘çš„å‡½æ•°</span>
    <span class="token comment">// watch(count, (newVal,oldVal)=&gt;{</span>
    <span class="token comment">//   console.log(newVal,oldVal)</span>
    <span class="token comment">// })</span>


    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ls'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token literal-property property">brand</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'å®é©¬'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'zs'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateBrandName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      obj<span class="token punctuation">.</span>brand<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'å¥”é©°'</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 2. ç›‘å¬ä¸€ä¸ªreactiveæ•°æ®</span>
    <span class="token function">watch</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ•°æ®æ”¹å˜äº†'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>obj<span class="token punctuation">.</span>brand<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'brandæ•°æ®æ”¹å˜äº†'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
      <span class="token comment">// 5. éœ€è¦æ·±åº¦ç›‘å¬</span>
      <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// 6. æƒ³é»˜è®¤è§¦å‘</span>
      <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 3. ç›‘å¬å¤šä¸ªæ•°æ®çš„å˜åŒ–</span>
    <span class="token comment">// watch([count, obj], ()=&gt;{</span>
    <span class="token comment">//   console.log('ç›‘å¬å¤šä¸ªæ•°æ®æ”¹å˜äº†')</span>
    <span class="token comment">// }) </span>


    <span class="token comment">// 4. æ­¤æ—¶ç›‘å¬å¯¹è±¡ä¸­æŸä¸€ä¸ªå±æ€§çš„å˜åŒ– ä¾‹å¦‚ï¼šobj.name </span>
    <span class="token comment">// éœ€è¦å†™æˆå‡½æ•°è¿”å›è¯¥å±æ€§çš„æ–¹å¼æ‰èƒ½ç›‘å¬åˆ°</span>
    <span class="token comment">// watch(()=&gt;obj.name,()=&gt;{</span>
    <span class="token comment">//   console.log('ç›‘å¬obj.nameæ”¹å˜äº†')</span>
    <span class="token comment">// })</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>count<span class="token punctuation">,</span> add<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> updateName<span class="token punctuation">,</span> updateBrandName<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>æ€»ç»“ï¼š</strong> æŒæ¡watchçš„å„ç§ç”¨æ³•ã€‚</p> <h2 id="_14-ç»„åˆapi-refå±æ€§"><a href="#_14-ç»„åˆapi-refå±æ€§" class="header-anchor">#</a> 14-ç»„åˆAPI-refå±æ€§</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨refå±æ€§ç»‘å®šDOMæˆ–ç»„ä»¶</p></blockquote> <p>è·å–DOMæˆ–è€…ç»„ä»¶å®ä¾‹å¯ä»¥ä½¿ç”¨refå±æ€§ï¼Œå†™æ³•å’Œvue2.0éœ€è¦åŒºåˆ†å¼€</p> <p>è·å–å•ä¸ªDOMæˆ–è€…ç»„ä»¶</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- vue2.0 è·å–å•ä¸ªå…ƒç´  --&gt;</span>
    <span class="token comment">&lt;!-- 1. é€šè¿‡refå±æ€§ç»‘å®šè¯¥å…ƒç´  --&gt;</span>
    <span class="token comment">&lt;!-- 2. é€šè¿‡this.$refs.boxè·å–å…ƒç´  --&gt;</span>
    <span class="token comment">&lt;!-- &lt;div ref=&quot;box&quot;&gt;æˆ‘æ˜¯box&lt;/div&gt; --&gt;</span>
    <span class="token comment">&lt;!-- vue2.0 è·å–v-foréå†çš„å¤šä¸ªå…ƒç´  --&gt;</span>
    <span class="token comment">&lt;!-- 1. é€šè¿‡refå±æ€§ç»‘å®šè¢«éå†å…ƒç´  --&gt;</span>
    <span class="token comment">&lt;!-- 2. é€šè¿‡this.$refs.li è·å–æ‰€æœ‰éå†å…ƒç´   --&gt;</span>
    <span class="token comment">&lt;!-- &lt;ul&gt;
      &lt;li v-for=&quot;i in 4&quot; :key=&quot;i&quot; ref=&quot;li&quot;&gt;{{i}}&lt;/li&gt;
    &lt;/ul&gt; --&gt;</span>

    <span class="token comment">&lt;!-- å•ä¸ªå…ƒç´  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯box<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- è¢«éå†çš„å…ƒç´  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i in 4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setDom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç¬¬{{i}}LI<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. è·å–å•ä¸ªå…ƒç´ </span>
    <span class="token comment">// 1.1 å…ˆå®šä¹‰ä¸€ä¸ªç©ºçš„å“åº”å¼æ•°æ®refå®šä¹‰çš„</span>
    <span class="token comment">// 1.2 setupä¸­è¿”å›è¯¥æ•°æ®ï¼Œä½ æƒ³è·å–é‚£ä¸ªdomå…ƒç´ ï¼Œåœ¨è¯¥å…ƒç´ ä¸Šä½¿ç”¨refå±æ€§ç»‘å®šè¯¥æ•°æ®å³å¯ã€‚</span>
    <span class="token keyword">const</span> dom <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>è·å–v-foréå†çš„DOMæˆ–è€…ç»„ä»¶</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">// 2. è·å–v-foréå†çš„å…ƒç´ </span>
    <span class="token comment">// 2.1 å®šä¹‰ä¸€ä¸ªç©ºæ•°ç»„ï¼Œæ¥æ”¶æ‰€æœ‰çš„LI</span>
    <span class="token comment">// 2.2 å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå¾€ç©ºæ•°ç»„push DOM</span>
    <span class="token keyword">const</span> domList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> <span class="token function-variable function">setDom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      domList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>domList<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>dom<span class="token punctuation">,</span> setDom<span class="token punctuation">}</span>
</code></pre></div><p><strong>æ€»ç»“ï¼š</strong></p> <ul><li>å•ä¸ªå…ƒç´ ï¼šå…ˆç”³æ˜refå“åº”å¼æ•°æ®ï¼Œè¿”å›ç»™æ¨¡ç‰ˆä½¿ç”¨ï¼Œé€šè¿‡refç»‘å®šæ•°æ®</li> <li>éå†çš„å…ƒç´ ï¼šå…ˆå®šä¹‰ä¸€ä¸ªç©ºæ•°ç»„ï¼Œå®šä¸€ä¸ªå‡½æ•°è·å–å…ƒç´ ï¼Œè¿”å›ç»™æ¨¡ç‰ˆä½¿ç”¨ï¼Œé€šè¿‡refç»‘å®šè¿™ä¸ªå‡½æ•°</li></ul> <h2 id="_15-ç»„åˆapi-çˆ¶å­é€šè®¯"><a href="#_15-ç»„åˆapi-çˆ¶å­é€šè®¯" class="header-anchor">#</a> 15-ç»„åˆAPI-çˆ¶å­é€šè®¯</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨propsé€‰é¡¹å’Œemitsé€‰é¡¹å®Œæˆçˆ¶å­ç»„ä»¶é€šè®¯</p></blockquote> <p>çˆ¶ä¼ å­ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{money}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">:money</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./Son.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    Son
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// çˆ¶ç»„ä»¶çš„æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> money <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{money}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Son'</span><span class="token punctuation">,</span>
  <span class="token comment">// å­ç»„ä»¶æ¥æ”¶çˆ¶ç»„ä»¶æ•°æ®ä½¿ç”¨propså³å¯</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">money</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–çˆ¶ç»„ä»¶æ•°æ®money</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>money<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>å­ä¼ çˆ¶ï¼š</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;div class=&quot;container&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;h1&gt;çˆ¶ç»„ä»¶&lt;/h1&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;p&gt;{{money}}&lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;hr&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;Son :money=&quot;money&quot; @change-money=&quot;updateMoney&quot; /&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;/div&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span><span class="token prefix deleted">&lt;</span><span class="token line">script&gt;
</span></span>import { ref } from 'vue'
import Son from './Son.vue'
export default {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> name: 'App',
</span><span class="token prefix unchanged"> </span><span class="token line"> components: {
</span><span class="token prefix unchanged"> </span><span class="token line">   Son
</span><span class="token prefix unchanged"> </span><span class="token line"> },
</span><span class="token prefix unchanged"> </span><span class="token line"> // çˆ¶ç»„ä»¶çš„æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶
</span><span class="token prefix unchanged"> </span><span class="token line"> setup () {
</span><span class="token prefix unchanged"> </span><span class="token line">   const money = ref(100)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    const updateMoney = (newMoney) =&gt; {
</span><span class="token prefix inserted">+</span><span class="token line">      money.value = newMoney
</span><span class="token prefix inserted">+</span><span class="token line">    }
</span><span class="token prefix inserted">+</span><span class="token line">    return { money , updateMoney}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span>}
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/script&gt;
</span></span>
</code></pre></div><div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;div class=&quot;container&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;h1&gt;å­ç»„ä»¶&lt;/h1&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;p&gt;{{money}}&lt;/p&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;button @click=&quot;changeMoney&quot;&gt;èŠ±50å…ƒ&lt;/button&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;/div&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span><span class="token prefix deleted">&lt;</span><span class="token line">script&gt;
</span></span>import { onMounted } from 'vue'
export default {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> name: 'Son',
</span><span class="token prefix unchanged"> </span><span class="token line"> // å­ç»„ä»¶æ¥æ”¶çˆ¶ç»„ä»¶æ•°æ®ä½¿ç”¨propså³å¯
</span><span class="token prefix unchanged"> </span><span class="token line"> props: {
</span><span class="token prefix unchanged"> </span><span class="token line">   money: {
</span><span class="token prefix unchanged"> </span><span class="token line">     type: Number,
</span><span class="token prefix unchanged"> </span><span class="token line">     default: 0
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span><span class="token prefix unchanged"> </span><span class="token line"> },
</span><span class="token prefix unchanged"> </span><span class="token line"> // props çˆ¶ç»„ä»¶æ•°æ®
</span><span class="token prefix unchanged"> </span><span class="token line"> // emit è§¦å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  setup (props, {emit}) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // è·å–çˆ¶ç»„ä»¶æ•°æ®money
</span><span class="token prefix unchanged"> </span><span class="token line">   console.log(props.money)
</span><span class="token prefix unchanged"> </span><span class="token line">   // å‘çˆ¶ç»„ä»¶ä¼ å€¼
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    const changeMoney = () =&gt; {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     // æ¶ˆè´¹50å…ƒ
</span><span class="token prefix unchanged"> </span><span class="token line">     // é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œmoneyéœ€è¦å˜æˆ50
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      emit('change-money', 50)
</span><span class="token prefix inserted">+</span><span class="token line">    }
</span><span class="token prefix inserted">+</span><span class="token line">    return {changeMoney}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span>}
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/script&gt;
</span></span>
</code></pre></div><p>æ‰©å±•ï¼š</p> <ul><li>åœ¨vue2.xçš„æ—¶å€™ <code>.sync</code>  é™¤å»v-modelå®ç°åŒå‘æ•°æ®ç»‘å®šçš„å¦ä¸€ç§æ–¹å¼</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- &lt;Son :money='money' @update:money=&quot;updateMoneyFn&quot;  /&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">:money.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>money<span class="token punctuation">'</span></span>  <span class="token punctuation">/&gt;</span></span>
</code></pre></div><ul><li>åœ¨vue3.0çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>v-model:money=&quot;money&quot;</code>  å³å¯</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- &lt;Son :money=&quot;money&quot; @update:money=&quot;updateMoneyFn&quot; /&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name"><span class="token namespace">v-model:</span>money</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><strong>æ€»ç»“ï¼š</strong></p> <ul><li>çˆ¶ä¼ å­ï¼šåœ¨setupç§ä½¿ç”¨propsæ•°æ®  <code>setup(props){ // propså°±æ˜¯çˆ¶ç»„ä»¶æ•°æ® }</code></li> <li>å­ä¼ çˆ¶ï¼šè§¦å‘è‡ªå®šä¹‰äº‹ä»¶çš„æ—¶å€™emitæ¥è‡ª <code>setup(props,{emit}){ // emit å°±æ˜¯è§¦å‘äº‹ä»¶å‡½æ•° }</code></li> <li>åœ¨vue3.0ä¸­ <code>v-model</code> å’Œ <code>.sync</code>  å·²ç»åˆå¹¶æˆ  <code>v-model</code> æŒ‡ä»¤</li></ul> <h2 id="_16-ç»„åˆapi-ä¾èµ–æ³¨å…¥"><a href="#_16-ç»„åˆapi-ä¾èµ–æ³¨å…¥" class="header-anchor">#</a> 16-ç»„åˆAPI-ä¾èµ–æ³¨å…¥</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨ provide å‡½æ•°å’Œ inject å‡½æ•°å®Œæˆåä»£ç»„ä»¶æ•°æ®é€šè®¯</p></blockquote> <p>ä½¿ç”¨åœºæ™¯ï¼šæœ‰ä¸€ä¸ªçˆ¶ç»„ä»¶ï¼Œé‡Œå¤´æœ‰å­ç»„ä»¶ï¼Œæœ‰å­™ç»„ä»¶ï¼Œæœ‰å¾ˆå¤šåä»£ç»„ä»¶ï¼Œå…±äº«çˆ¶ç»„ä»¶æ•°æ®ã€‚</p> <p>æ¼”ç¤ºä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money += 1000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åŠ é’±<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./components/Son16.vue'</span>
<span class="token comment">/* 
  ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨provideå‡½æ•°å’Œinjectå‡½æ•°å®Œæˆåä»£ç»„ä»¶æ•°æ®é€šè®¯
*/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> Son <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setupç»„åˆAPIçš„èµ·ç‚¹'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>

    <span class="token comment">// å°†æ•°æ®æä¾›ç»™åä»£ç»„ä»¶ provide</span>
    <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'money'</span><span class="token punctuation">,</span> money<span class="token punctuation">)</span>

    <span class="token comment">// å°†å‡½æ•°æä¾›ç»™åä»£ç»„ä»¶ provide</span>
    <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'changeMoney'</span><span class="token punctuation">,</span> <span class="token parameter">saleMoney</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'saleMoney'</span><span class="token punctuation">,</span> saleMoney<span class="token punctuation">)</span>
      money<span class="token punctuation">.</span>value <span class="token operator">-=</span> saleMoney
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> money <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> antiquewhite<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>son<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>è€çˆ¹çš„é’±ï¼š{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SonSon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SonSon</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">/* 
  ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨provideå‡½æ•°å’Œinjectå‡½æ•°å®Œæˆåä»£ç»„ä»¶æ•°æ®é€šè®¯
*/</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> SonSon <span class="token keyword">from</span> <span class="token string">'./SonSon16.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Son'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> SonSon <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¥æ”¶ç¥–å…ˆç»„ä»¶æä¾›çš„æ•°æ®</span>
    <span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'money'</span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> <span class="token punctuation">{</span> money <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sonson<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å­™å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>çˆ·çˆ·çš„é’±ï¼š{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMoney(50)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ¶ˆè´¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">/* 
  ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨provideå‡½æ•°å’Œinjectå‡½æ•°å®Œæˆåä»£ç»„ä»¶æ•°æ®é€šè®¯
*/</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'SonSon'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¥æ”¶ç¥–å…ˆç»„ä»¶æä¾›çš„æ•°æ®</span>
    <span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'money'</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> changeMoney <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'changeMoney'</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> money<span class="token punctuation">,</span> changeMoney <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.sonson</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> deeppink<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>æ€»ç»“ï¼š</strong></p> <ul><li>provideå‡½æ•°æä¾›æ•°æ®å’Œå‡½æ•°ç»™åä»£ç»„ä»¶ä½¿ç”¨</li> <li>injectå‡½æ•°ç»™å½“å‰ç»„ä»¶æ³¨å…¥provideæä¾›çš„æ•°æ®å’Œå‡½æ•°</li></ul> <h2 id="_17-è¡¥å……-v-modelè¯­æ³•ç³–"><a href="#_17-è¡¥å……-v-modelè¯­æ³•ç³–" class="header-anchor">#</a> 17-è¡¥å……-v-modelè¯­æ³•ç³–</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡vue3.0çš„v-modelè¯­æ³•ç³–åŸç†</p></blockquote> <p>åœ¨vue2.0ä¸­v-modeè¯­æ³•ç³–ç®€å†™çš„ä»£ç  <code>&lt;Son :value=&quot;msg&quot; @input=&quot;msg=$event&quot; /&gt;</code></p> <p>åœ¨vue3.0ä¸­v-modelè¯­æ³•ç³–æœ‰æ‰€è°ƒæ•´ï¼š<code>&lt;Son :modelValue=&quot;msg&quot; @update:modelValue=&quot;msg=$event&quot; /&gt;</code></p> <p>æ¼”ç¤ºä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶æ”¶é›†åˆ°æ•°æ®{{ bl }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 
    åŒå‘ç»‘å®šï¼š
      1. çˆ¶ç»„ä»¶æŠŠå€¼ä¼ é€’ç»™å­ç»„ä»¶
      2. å­ç»„ä»¶ä¿®æ”¹æ•°æ®çš„æ—¶å€™ï¼Œçˆ¶ç»„ä»¶æ•°æ®èƒ½æ›´æ–°
  --&gt;</span>
  <span class="token comment">&lt;!-- å¸¸ç”¨ï¼šv-model è¯­æ³•ç³–å®ç°åŒå‘ç»‘å®šï¼ˆç®€å†™æ–¹å¼ï¼‰ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- äº†è§£ï¼šç®€åŒ–å‰å†™æ³•å¦‚ä¸‹ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name"><span class="token namespace">v-model:</span>modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- äº†è§£ï¼šç®€åŒ–å‰å†™æ³•å¦‚ä¸‹ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">:modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bl<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modelValueFn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- äº†è§£ï¼šç®€åŒ–å‰å†™æ³•å¦‚ä¸‹ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">:modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bl<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bl = $event<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./components/Son17.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> Son <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> bl <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token comment">// PSï¼šval å…¶å®äº‹ä»¶å¤„ç†å‡½æ•°çš„äº‹ä»¶å¯¹è±¡ï¼Œåœ¨æ¨¡æ¿ä¸­å¯é€šè¿‡ $event è·å–åˆ°å­ç»„ä»¶ä¼ è¿‡æ¥çš„æ•°æ®</span>
    <span class="token keyword">const</span> <span class="token function-variable function">modelValueFn</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      bl<span class="token punctuation">.</span>value <span class="token operator">=</span> val
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> bl<span class="token punctuation">,</span> modelValueFn <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>å­ç»„ä»¶ï¼š<code>src\components\Son17.vue</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶{{ modelValue }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»å¼€å…³<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Son'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. å­ç»„ä»¶é€šè¿‡ modelValue æ¥æ”¶ v-model ä¼ é€’è¿‡æ¥çš„æ•°æ®</span>
    <span class="token literal-property property">modelValue</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(props)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">btn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// ç‚¹å‡»å–åä¿å­˜åˆ°ä¸´æ—¶å˜é‡ä¸­</span>
      <span class="token keyword">const</span> temp <span class="token operator">=</span> <span class="token operator">!</span>props<span class="token punctuation">.</span>modelValue
      <span class="token comment">// 2. å­ç»„ä»¶é€šè¿‡ update:modelValue é€šçŸ¥çˆ¶ç»„ä»¶åš v-model å€¼çš„æ›´æ–°</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:modelValue'</span><span class="token punctuation">,</span> temp<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> btn <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>æ€»ç»“ï¼š</strong> vue3.0å°è£…ç»„ä»¶æ”¯æŒv-modelçš„æ—¶å€™ï¼Œçˆ¶ä¼ å­<code>:modelValue</code> å­ä¼ çˆ¶ <code>@update:modelValue</code></p> <p><strong>è¡¥å……ï¼š</strong></p> <ul><li><p>vue2.0çš„  <code>xxx.sync</code> è¯­æ³•ç³–è§£æ  çˆ¶ä¼ å­ <code>:xxx</code>  å­ä¼ çˆ¶  <code>@update:xxx</code> ã€‚</p></li> <li><p>åœ¨vue3.0 <code>v-model:xxx</code> ç»Ÿä¸€äº†åŒå‘ç»‘å®šï¼Œ<code>v-model</code> é»˜è®¤å€¼æ˜¯ <code>v-model:modelValue</code>ï¼Œ<code>xxx</code> åå­—å¯ä»¥æŒ‰éœ€ä¿®æ”¹æˆå…¶ä»–åå­—ã€‚</p></li></ul> <h2 id="_18-è¡¥å……-mixinsè¯­æ³•"><a href="#_18-è¡¥å……-mixinsè¯­æ³•" class="header-anchor">#</a> 18-è¡¥å……-mixinsè¯­æ³•</h2> <blockquote><p>ç›®æ ‡ï¼šæŒæ¡mixinsè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨ï¼Œvue2.xå°è£…é€»è¾‘çš„æ–¹å¼ï¼Œvue3.0å»ºè®®ä½¿ç”¨ç»„åˆAPI</p></blockquote> <p>å®˜æ–¹è¯æœ¯ï¼š</p> <ul><li>æ··å…¥ (mixin) æä¾›äº†ä¸€ç§éå¸¸çµæ´»çš„æ–¹å¼ï¼Œæ¥åˆ†å‘ Vue ç»„ä»¶ä¸­çš„å¯å¤ç”¨åŠŸèƒ½ã€‚ä¸€ä¸ªæ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«â€œæ··åˆâ€è¿›å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚</li></ul> <p>ç†è§£å…¨å±€æ··å…¥ï¼šæ‰€æœ‰ç»„ä»¶æ··å…¥äº†è¿™äº›é€»è¾‘ä»£ç </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// mixin ä¸»è¦æ˜¯é’ˆå¯¹é€‰é¡¹å¼ API</span>
<span class="token comment">// vue2.0 å†™æ³•  Vue.mixin({})</span>
app<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">globalData</span><span class="token operator">:</span><span class="token string">'å…¨å±€æ•°æ®'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">sayFn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è°ƒç”¨ä¸€ä¸ªå…¨å±€çš„sayå‡½æ•°'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// æŠŠVueåº”ç”¨å®ä¾‹æŒ‚è½½åˆ° #app ä¸­</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> ä½œè€…ï¼šå‘¨æ°ä¼¦  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å…³æ³¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./Son.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    Son
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span> ä½œè€…ï¼šå‘¨æ°ä¼¦  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>å…³æ³¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Son'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>ç†è§£å±€éƒ¨æ··å…¥ï¼šé€šè¿‡mixinsé€‰é¡¹è¿›è¡Œæ··å…¥</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é…ç½®å¯¹è±¡</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> followMixin <span class="token operator">=</span>  <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">followFn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token comment">// æ¨¡æ‹Ÿè¯·æ±‚</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">// çœç•¥è¯·æ±‚ä»£ç </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> ä½œè€…ï¼šå‘¨æ°ä¼¦  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>followFn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{loading?'è¯·æ±‚ä¸­...':'å…³æ³¨'}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./Son.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>followMixin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./mixins'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    Son
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>followMixin<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span> ä½œè€…ï¼šå‘¨æ°ä¼¦  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>followFn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{loading?'loading...':'å…³æ³¨'}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>followMixin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./mixins'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Son'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>followMixin<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><strong>æ€»ç»“ï¼š</strong> åœ¨vue2.0ä¸­ä¸€äº›å¯å¤ç”¨çš„é€»è¾‘å¯ä»¥ä½¿ç”¨mixinsæ¥å°è£…ï¼Œå½“æ˜¯éœ€è¦è€ƒè™‘é€»è¾‘ä»£ç å†²çªé—®é¢˜ã€‚vue3.0çš„ç»„åˆAPIå¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå°±ä¸åœ¨æ¨èä½¿ç”¨mixinsäº†ã€‚</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
      ä½œè€…ï¼šå‘¨æ°ä¼¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>followFn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ loading ? 'è¯·æ±‚ä¸­...' : 'å…³æ³¨' }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./Son.vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useFollow <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./mixins.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    Son<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">useFollow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>
      ä½œè€…ï¼šå‘¨æ°ä¼¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>followFn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ loading ? 'loading...' : 'å…³æ³¨' }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useFollow <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./mixins.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Son'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token function">useFollow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>


  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useFollow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> loading <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">followFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// æ¨¡æ‹Ÿè¯·æ±‚</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// çœç•¥è¯·æ±‚ä»£ç </span>
      loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> loading<span class="token punctuation">,</span> followFn <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/erabbit-client-pc-document/assets/js/app.89bf0df2.js" defer></script><script src="/erabbit-client-pc-document/assets/js/2.9c06a25d.js" defer></script><script src="/erabbit-client-pc-document/assets/js/9.a79a3e96.js" defer></script>
  </body>
</html>
